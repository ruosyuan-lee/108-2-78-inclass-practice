# studentHeights$`年齡層`
jsonlite::fromJSON("https://www.dropbox.com/s/es19f62rijrd8i7/studentHeight.json?dl=1") -> studentHeights
View(studentHeights)
studentHeights
View(studentHeights)
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
str(differentMajors)
# realEstateRegex
str(differentMajors)
# realEstateRegex
levels(differentMajors)
# realEstateRegex
unique(differentMajors)
# realEstateRegex
knitr::opts_chunk$set(echo = TRUE)
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
unique(differentMajors)
realEstateRegex <- "(?=不動)[\u4E00-\u9FFF](?=系)"
# realEstateRegex
realEstateRegex <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
# realEstateRegex
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
str_extract(
differentMajors,
regex_pattern)
realEstateRegex
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?<=系)"
str_extract(
differentMajors,
regex_pattern)
realEstateRegex
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?<=系)"
str_extract(
differentMajors,
regex_pattern)
realEstateRegex
realEstateRegex
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
str_extract(
differentMajors,
regex_pattern)
realEstateRegex
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?<=系)"
str_extract(
differentMajors,
regex_pattern)
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
str_extract(
differentMajors,
regex_pattern)
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
str_replace(differentMajors,realEstateRegex,"不動系")
unique(differentMajors)
class(differentMajors)
# currentLevels
factor(differentMajors) -> differentMajors
# currentLevels
factor(differentMajors) -> differentMajors
class(differentMajors)
# currentLevels
factor(differentMajors) -> differentMajors
levels(differentMajors) -> currentLevels
currentLevels
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
str_view(
differentMajors,
regex_pattern)
realEstateRegex
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
str_extract(
differentMajors,
regex_pattern)
realEstateRegex
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
str_view_all(
differentMajors,
regex_pattern)
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
str_view_all(
differentMajors,
"金融與合作學系|金融系|休閒與運動管理學系|金融與合作經營學系|休運系"
) -> bSchoolRegex
bSchoolRegex
str_replace(currentLevels,bSchoolRegex,"商學院")
str_replace(currentLevels,bSchoolRegex,"商學院")
str_view_all(
currentLevels,
"金融與合作學系|金融系|休閒與運動管理學系|金融與合作經營學系|休運系"
) -> bSchoolRegex
bSchoolRegex
str_replace(currentLevels,bSchoolRegex,"商學院")
str_view_all(
currentLevels,
"金融與合作學系|金融系|休閒與運動管理學系|金融與合作經營學系|休運系"
) -> bSchoolRegex
bSchoolRegex
str_replace(currentLevels,bSchoolRegex,"商學院")
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
str_view_all(
differentMajors,
regex_pattern)
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
str_view_all(
currentLevels,
"金融與合作學系|金融系|休閒與運動管理學系|金融與合作經營學系|休運系"
) -> bSchoolRegex
bSchoolRegex
str_replace(currentLevels,bSchoolRegex,"商學院")
str_replace(currentLevels,bSchoolRegex,"商學院")
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
str_view_all(
differentMajors,
regex_pattern) -> realEstateRegex
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
str_extract(
differentMajors,
regex_pattern) -> realEstateRegex
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
str_extract(
differentMajors,
regex_pattern) -> realEstateRegex
realEstateRegex
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
str_extract(
differentMajors,
regex_pattern) -> realEstateRegex
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
regex_pattern <- "(?=不動)[\u4E00-\u9FFF]+(?=系)"
str_extract(
differentMajors,
regex_pattern) -> realEstateRegex
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
str_extract(
currentLevels,
"金融與合作學系|金融系|休閒與運動管理學系|金融與合作經營學系|休運系"
) -> bSchoolRegex
bSchoolRegex
str_replace(currentLevels,bSchoolRegex,"商學院")
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr); library(purrr); library(magrittr)
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
jsonlite::fromJSON("https://www.dropbox.com/s/8wgdef4v44k1w0g/tpe_highSchools.json?dl=1") -> tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools)
unique(tpe_highSchools)
# tpe_highSchools
factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
unique(tpe_highSchools)
# tpe_highSchools
factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
levels(tpe_highSchools)
unique(tpe_highSchools)
# tpe_highSchools
factor_highshools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
factor_highshools
factor_highshools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
levels(factor_highshools)
unique(tpe_highSchools)
# tpe_highSchools
factor_highshools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
levels(factor_highshools)
# tpe_highSchools
factor_highshools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
levels(factor_highshools)
tpe_highSchools
factor_highshools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
levels(factor_highshools) -> tpe_highSchools
tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
tpe_highSchools
tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
jsonlite::fromJSON("https://www.dropbox.com/s/8wgdef4v44k1w0g/tpe_highSchools.json?dl=1") -> tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools)
tpe_highSchools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
tpe_highSchools
levels(tpe_highSchools)
tpe_highSchools
tpe_highSchools[[679]]
# tpe_highSchools
tpe_highSchools[[680]]
tpe_highSchools[[680]] <- "北一女"
# tpe_highSchools
tpe_highSchools[[680]] <- ("北一女")
# tpe_highSchools
tpe_highSchools[[680]] <- ("北一女")
# tpe_highSchools
tpe_highSchools <- ("北一女")
# tpe_highSchools
tpe_highSchools <- ("北一女")
# tpe_highSchools
tpe_highSchools[[680]]
tpe_highSchools[[679]]
class(tpe_highSchools)
class(a)
a <- c(1,2)
class(a)
class(a)
a <- c(a,b)
a <- c("a,b")
class(a)
tpe_highSchools[[679]] <- c("北一女")
class(tpe_highSchools)
# tpe_highSchools
tpe_highSchools[[679]]
tpe_highSchools[[680]] <- c("北一女")
tpe_highSchools[[680]]
tpe_highSchools[[680]] <- c("北一女")
# tpe_highSchools
tpe_highSchools[[680]] <- c("北一女")
tpe_highSchools
tpe_highSchools[[680]] <- c("北一女")
tpe_highSchools[[681]] <- c("北一女")
tpe_highSchools[[682]] <- c("北一女")
tpe_highSchools
tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
tpe_highSchools
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
jsonlite::fromJSON("https://www.dropbox.com/s/8wgdef4v44k1w0g/tpe_highSchools.json?dl=1") -> tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools)
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr); library(purrr); library(magrittr)
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr); library(purrr); library(magrittr)
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
jsonlite::fromJSON("https://www.dropbox.com/s/8wgdef4v44k1w0g/tpe_highSchools.json?dl=1") -> tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools)
tpe_highSchools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
tpe_highSchools
tpe_highSchools
tpe_highSchools[[680]] <- c("北一女")
tpe_highSchools
tpe_highSchools[[680]] <- c("北一女"),stringsAsFactors =  FALSE
tpe_highSchools[c(680,681,682,683,684,685,686,687,688,689)]
<-c(rep("北一女", times = 10))
tpe_highSchools[c(680,681,682,683,684,685,686,687,688,689)]<-c(rep("北一女", times = 10))
tpe_highSchools
levels(tpe_highSchools)<-c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學","北一女")
tpe_highSchools[c(680,681,682,683,684,685,686,687,688,689)]<-c(rep("北一女", times = 10))
tpe_highSchools
levels(tpe_highSchools)<-c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學","北一女")
tpe_highSchools[c(680,681,682,683,684,685,686,687,688,689)]<-c(rep("北一女", times = 10))
tpe_highSchools
regex_hs1st <- "臺?台?北市?立?第?一女子?高?級?中?學?"
regex_hs1st
check_regexRestriction("臺台北市立第一女子高級中學",regex_hs1st)
currentLevels <- levels(tpe_highSchools)
str_replace(currentLevels,regex_hs1st,"北一女") -> levels(tpe_highSchools)
levels(tpe_highSchools)
regex_hs1st <- "臺?台?北市?立?第?一女子?高?級?中?學?"
regex_hs1st
check_regexRestriction("臺台北市立第一女子高級中學",regex_hs1st)
currentLevels <- levels(tpe_highSchools)
str_replace(currentLevels,regex_hs1st,"北一女") -> levels(tpe_highSchools)
levels(tpe_highSchools)
regex_hsTitle <- "高?級?中?學?"
regex_hsTitle
check_regexRestriction("高級中學",regex_hsTitle)
currentLevels <- levels(tpe_highSchools)
str_remove(
currentLevels,regex_hsTitle
) -> levels(tpe_highSchools)
levels(tpe_highSchools)
regex <- "高?級?中?學?"
regex_hsTitle <- glue::glue("regex$")
regex_hsTitle
check_regexRestriction("高級中學",regex_hsTitle)
currentLevels <- levels(tpe_highSchools)
str_remove(
currentLevels,regex_hsTitle
) -> levels(tpe_highSchools)
levels(tpe_highSchools)
regex_hs1st <- "臺?台?北市?立?第?一女子?高?級?中?學?"
regex_hs1st
check_regexRestriction("臺台北市立第一女子高級中學",regex_hs1st)
currentLevels <- levels(tpe_highSchools)
str_replace(currentLevels,regex_hs1st,"北一女") -> levels(tpe_highSchools)
levels(tpe_highSchools)
regex_hs1st <- "臺?台?北市?立?第?一女子?高?級?中?學?"
regex_hs1st
check_regexRestriction("臺台北市立第一女子高級中學",regex_hs1st)
currentLevels <- levels(tpe_highSchools)
str_replace(currentLevels,regex_hs1st,"北一女") -> levels(tpe_highSchools)
levels(tpe_highSchools)
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr); library(purrr); library(magrittr)
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr); library(purrr); library(magrittr)
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr); library(purrr); library(magrittr)
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr); library(purrr); library(magrittr)
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
tpe_highSchools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr); library(purrr); library(magrittr)
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr); library(purrr); library(magrittr)
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
jsonlite::fromJSON("https://www.dropbox.com/s/8wgdef4v44k1w0g/tpe_highSchools.json?dl=1") -> tpe_highSchools
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
data228 <- readr::read_csv("https://www.dropbox.com/s/64yf3uq8wtvb5q7/%E4%BA%8C%E4%BA%8C%E5%85%AB%E4%BA%8B%E4%BB%B6%E4%BA%BA%E5%90%8D%E7%B4%A2%E5%BC%95.csv?dl=1")
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr); library(purrr); library(magrittr)
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
jsonlite::fromJSON("https://www.dropbox.com/s/8wgdef4v44k1w0g/tpe_highSchools.json?dl=1") -> tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools)
data228 <- readr::read_csv("https://www.dropbox.com/s/64yf3uq8wtvb5q7/%E4%BA%8C%E4%BA%8C%E5%85%AB%E4%BA%8B%E4%BB%B6%E4%BA%BA%E5%90%8D%E7%B4%A2%E5%BC%95.csv?dl=1")
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr); library(purrr); library(magrittr)
source("https://www.dropbox.com/s/aow5y2772r8ratb/regexPatternCheck.R?dl=1", encoding = "UTF-8")
jsonlite::fromJSON("https://www.dropbox.com/s/8wgdef4v44k1w0g/tpe_highSchools.json?dl=1") -> tpe_highSchools
tpe_highSchools <- factor(tpe_highSchools)
tpe_highSchools <- factor(tpe_highSchools,levels = c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學"))
tpe_highSchools
levels(tpe_highSchools)<-c("臺北市立第一女中","台北市立第一女子高級中學","中山女中","中山女高", "台北市立中山女中", "臺北市立中山女子高級中學","國立政大附中", "國立政治大學附屬高級中學","北一女")
tpe_highSchools[c(680,681,682,683,684,685,686,687,688,689)]<-c(rep("北一女", times = 10))
tpe_highSchools
regex_hs1st <- "臺?台?北市?立?第?一女子?高?級?中?學?"
regex_hs1st
check_regexRestriction("臺台北市立第一女子高級中學",regex_hs1st)
currentLevels <- levels(tpe_highSchools)
str_replace(currentLevels,regex_hs1st,"北一女") -> levels(tpe_highSchools)
levels(tpe_highSchools)
regex_hsTitle <- "高級?中?學?"
regex_hsTitle
check_regexRestriction("高級中學",regex_hsTitle)
currentLevels <- levels(tpe_highSchools)
str_remove(
currentLevels,regex_hsTitle
) -> levels(tpe_highSchools)
levels(tpe_highSchools)
regex_hsTitle <- "高級中學?"
regex_hsTitle
check_regexRestriction("高級中學",regex_hsTitle)
currentLevels <- levels(tpe_highSchools)
str_remove(
currentLevels,regex_hsTitle
) -> levels(tpe_highSchools)
levels(tpe_highSchools)
data228 <- readr::read_csv("https://www.dropbox.com/s/64yf3uq8wtvb5q7/%E4%BA%8C%E4%BA%8C%E5%85%AB%E4%BA%8B%E4%BB%B6%E4%BA%BA%E5%90%8D%E7%B4%A2%E5%BC%95.csv?dl=1")
View(data228)
`全宗名編號`<-str_extract(data228$`檔號`,"[:upper:][:graph:]+[:upper:](?=/)")
`全宗名編號`<-factor(`全宗名編號`)
`年`<-str_extract(data228$`檔號`,"(?<=/)[:alnum:]{4}(?=/)")
`年`<-as.integer(`年`)
data228[["全宗名編號"]]<-`全宗名編號`
data228[["年"]]<-`年`
data228[c("全宗名編號","年")]
data228[c("全宗名編號","年")]
# data228[c("全宗名編號","年")]
`全宗名編號`<-str_extract(data228$`檔號`,"[:upper:][:graph:]+[:upper:](?=/)")
`全宗名編號`<-factor(`全宗名編號`)
`年`<-str_extract(data228$`檔號`,"(?<=/)[:alnum:]{4}(?=/)")
`年`<-as.integer(`年`)
data228[["全宗名編號"]]<-`全宗名編號`
data228[["年"]]<-`年`
data228[c("全宗名編號","年")]
data228[c("全宗名編號","年")]
# data228[c("全宗名編號","年")]
`全宗名編號`<-str_extract(data228$`檔號`,"[:upper:][:graph:]+[:upper:](?=/)")
`全宗名編號`<-factor(`全宗名編號`)
`年`<-str_extract(data228$`檔號`,"(?<=/)[:alnum:]{4}(?=/)")
`年`<-as.integer(`年`)
data228[["全宗名編號"]]<-`全宗名編號`
data228[["年"]]<-`年`
data228[c("全宗名編號","年")]
`全宗名編號`<-str_extract(data228$`檔號`,"[:upper:][:graph:]+[:upper:](?=/)")
`全宗名編號`<-factor(`全宗名編號`)
`年`<-str_extract(data228$`檔號`,"(?<=/)[:alnum:]{4}(?=/)")
`年`<-as.integer(`年`)
data228[["全宗名編號"]]<-`全宗名編號`
data228[["年"]]<-`年`
data228[c("全宗名編號","年")]
`全宗名編號`<-str_extract(data228$`檔號`,"[:upper:][:graph:]+[:upper:](?=/)")
`全宗名編號`<-factor(`全宗名編號`)
`年`<-str_extract(data228$`檔號`,"(?<=/)[:alnum:]{4}(?=/)")
`年`<-as.integer(`年`)
data228[["全宗名編號"]]<-`全宗名編號`
data228[["年"]]<-`年`
data228[c("全宗名編號","年")]
data228$附註
unique(data228$附註)
data228$`附註`$`臺灣省二二八事變正法及死亡人犯名冊`
`全宗名編號`<-str_extract(data228$`檔號`,"[:upper:][:graph:]+[:upper:](?=/)")
`全宗名編號`<-factor(`全宗名編號`)
`年`<-str_extract(data228$`檔號`,"(?<=/)[:alnum:]{4}(?=/)")
`年`<-as.integer(`年`)
data228[["全宗名編號"]]<-`全宗名編號`
data228[["年"]]<-`年`
data228[c("全宗名編號","年")]
View(data228)
data228$`附註`
str_detect(data228$`附註`"表冊名稱:臺灣省二二八事變正法及死亡人犯名冊")
str_detect(data228$`附註`,"表冊名稱:臺灣省二二八事變正法及死亡人犯名冊")
# victims
str_detect(data228$`附註`,c("表冊名稱:臺灣省二二八事變正法及死亡人犯名冊"))
# victims
levels(data228$`檔號`)
# victims
jsonlite::fromJSON("https://www.dropbox.com/s/7myzzdnoor21hye/courseStructure2.json?dl=1") -> courseStructure
source("https://www.dropbox.com/s/pc8qg2phs3ypcr8/midterm108_2.R?dl=1", encoding="UTF-8")
View(courseStructure)
str_extract(courseStructure$`應修系級`,"[\u4E00-\u9FFF][:graph:]")
str_extract(courseStructure$`應修系級`,"[\u4E00-\u9FFF]+[:graph:]")
levels(str_extract(courseStructure$`應修系級`,"[\u4E00-\u9FFF]+[:graph:]"))
# majorGradeCombos
unique(str_extract(courseStructure$`應修系級`,"[\u4E00-\u9FFF]+[:graph:]"))
# majorGradeCombos
unique(str_extract(courseStructure$`應修系級`,"[\u4E00-\u9FFF]+[:graph:]")) -> majorGradeCombos
majorGradeCombos
majorGradeCombos <- unique(str_extract(courseStructure$`應修系級`,"[\u4E00-\u9FFF]+[:graph:]"))
majorGradeCombos
103
(str_extract(courseStructure$`應修系級`,"經濟3")
# econ101junior
103
str_extract(courseStructure$`應修系級`,"經濟3"
# econ101junior
103
str_extract(courseStructure$`應修系級`,"經濟3")
# econ101junior
majorGradeCombos <- unique(str_extract(courseStructure$`應修系級`,"[\u4E00-\u9FFF]+[:graph:]"))
majorGradeCombos
103
str_extract(courseStructure$`應修系級`,"經濟系3")
# econ101junior
View(data228)
pick1<-data228$`檔號`[data228$`附註`=="表冊名稱:臺灣省二二八事變正法及死亡人犯名冊"]
pick2<-data228$`個人名稱`[data228$`檔號`==pick1]
victims<-levels(factor(pick_name))
pick1<-data228$`檔號`[data228$`附註`=="表冊名稱:臺灣省二二八事變正法及死亡人犯名冊"]
pick2<-data228$`個人名稱`[data228$`檔號`==pick1]
victims<-levels(factor(pick2))
victims
pick1<-data228$`檔號`[data228$`附註`=="表冊名稱:臺灣省二二八事變正法及死亡人犯名冊"]
pick2<-data228$`個人名稱`[data228$`檔號`==pick1]
victims<-levels(factor(pick2))
victims
pick1<-data228$`檔號`[data228$`附註`=="表冊名稱:臺灣省二二八事變正法及死亡人犯名冊"]
pick2<-data228$`個人名稱`[data228$檔號==pick1]
victims<-levels(factor(pick2))
victims
View(courseStructure)
103
str_extract(courseStructure$`應修系級`,"經濟系3")
103
str_view_all(courseStructure$`應修系級`,"經濟系3")
str_view_all(courseStructure$`學年`,"103")
# econ101junior
pick1<-data228$`附註`[data228$`附註`=="表冊名稱:臺灣省二二八事變正法及死亡人犯名冊"]
pick2<-data228$`個人名稱`[data228$附註==pick1]
victims<-levels(factor(pick2))
victims
pick1<-data228$`附註`[data228$`附註`=="表冊名稱:臺灣省二二八事變正法及死亡人犯名冊"]
pick2<-data228$`個人名稱`[data228$附註==pick1]
victims<-levels(factor(pick2))
victims
majorGradeCombos <- unique(str_extract(courseStructure$`應修系級`,"[\u4E00-\u9FFF]+[:graph:]"))
majorGradeCombos
str_view_all(courseStructure,"經濟系3")
str_extract(courseStructure$`應修系級`,"經濟系3")
unique(str_extract(courseStructure$`應修系級`,"經濟系3"))
regex_hsTitle <- ["高級中學"]
regex_hsTitle <- "高級中學"
regex_hsTitle
check_regexRestriction("高級中學",regex_hsTitle)
currentLevels <- levels(tpe_highSchools)
str_remove(
currentLevels,regex_hsTitle
) -> levels(tpe_highSchools)
levels(tpe_highSchools)
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr); library(purrr); library(magrittr)
pick1<-data228$`附註`[data228$`附註`=="表冊名稱:臺灣省二二八事變正法及死亡人犯名冊"]
pick2<-data228$`個人名稱`[data228$附註==pick1]
victims<-levels(factor(pick2))
victims
pick1<-data228$`附註`[data228$`附註`=="表冊名稱:臺灣省二二八事變正法及死亡人犯名冊"]
pick2<-data228$`個人名稱`[data228$`附註` == pick1]
victims<-levels(factor(pick2))
victims
